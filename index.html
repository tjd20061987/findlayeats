const places = [
  // â­ FEATURED
  {
    name: "Stix",
    area: "Downtown",
    deal: "Half-price sushi rolls on Wednesdays and great hibachi portions.",
    timeWindow: "11 AM - 9 PM",
    openStatus: "Open now Â· sushi & hibachi",
    isOpen: true,
    tags: ["sushi", "hibachi", "downtown"],
    featured: true,
    mapsUrl: "https://maps.google.com/?q=Stix+Findlay+OH",
    website: "https://stixfindlay.com/"
  },
  {
    name: "Japan West",
    area: "Downtown",
    deal: "Fresh sushi and bento boxes - locals swear by the lunch specials.",
    timeWindow: "11 AM - 2 PM",
    openStatus: "Open now Â· sushi & Japanese",
    isOpen: true,
    tags: ["sushi", "japanese", "downtown"],
    featured: true,
    mapsUrl: "https://maps.google.com/?q=Japan+West+Findlay+OH",
    website: "https://japanwestfindlay.com/"
  },

  // â­ NON-FEATURED
  {
    name: "Asian Grill Findlay",
    area: "East side",
    deal: "Chinese and Thai-inspired dishes with generous portions.",
    timeWindow: "11 AM - 8 PM",
    openStatus: "Open now Â· Asian cuisine",
    isOpen: true,
    tags: ["asian", "chinese", "east side"],
    featured: false,
    mapsUrl: "https://maps.google.com/?q=Asian+Grill+Findlay+OH",
    website: "https://asiangrillfindlay.com/"
  },
  {
    name: "Logan's Irish Pub",
    area: "Downtown",
    deal: "Shepherd's pie and $4 drafts during afternoon happy hour.",
    timeWindow: "3 PM - 6 PM",
    openStatus: "Open now Â· cozy pub",
    isOpen: true,
    tags: ["pub", "comfort food", "downtown"],
    featured: false,
    mapsUrl: "https://maps.google.com/?q=Logan's+Irish+Pub+Findlay+OH",
    website: "https://logansirishpubfindlay.com/"
  },
  {
    name: "Alexandria's",
    area: "Downtown",
    deal: "Great burgers and rooftop drinks when the weather is good.",
    timeWindow: "11 AM - 10 PM",
    openStatus: "Open now Â· bar & grill",
    isOpen: true,
    tags: ["burgers", "drinks", "downtown"],
    featured: false,
    mapsUrl: "https://maps.google.com/?q=Alexandria's+Findlay+OH",
    website: "https://alexandriasfindlay.com/"
  },
  {
    name: "Oler's Bar & Grill",
    area: "South side",
    deal: "Tex-Mex classics and their famous wet burrito.",
    timeWindow: "11 AM - 9 PM",
    openStatus: "Open now Â· Tex-Mex",
    isOpen: true,
    tags: ["tex-mex", "local favorite", "south side"],
    featured: false,
    mapsUrl: "https://maps.google.com/?q=Oler's+Findlay+OH",
    website: "https://olersbarandgrill.com/"
  },
  {
    name: "Dark Horse Restaurant",
    area: "South side",
    deal: "Steak specials and hearty comfort food.",
    timeWindow: "4 PM - 8 PM",
    openStatus: "Open later Â· steakhouse",
    isOpen: false,
    tags: ["steak", "comfort food", "south side"],
    featured: false,
    mapsUrl: "https://maps.google.com/?q=Dark+Horse+Findlay+OH",
    website: "https://www.darkhorsefindlay.com/"
  },
  {
    name: "Legends Steakhouse",
    area: "East side",
    deal: "Half-off appetizers during game nights.",
    timeWindow: "5 PM - 9 PM",
    openStatus: "Open later Â· sports bar",
    isOpen: false,
    tags: ["sports bar", "steak", "east side"],
    featured: false,
    mapsUrl: "https://maps.google.com/?q=Legends+Steakhouse+Findlay+OH",
    website: "https://www.legendsfindlay.com/"
  },
  {
    name: "Circle of Friends",
    area: "Downtown",
    deal: "Homestyle comfort food with rotating daily specials.",
    timeWindow: "11 AM - 7 PM",
    openStatus: "Open now Â· homestyle cooking",
    isOpen: true,
    tags: ["comfort food", "homestyle", "downtown"],
    featured: false,
    mapsUrl: "https://maps.google.com/?q=Circle+of+Friends+Findlay+OH",
    website: "https://www.circleoffriendsfindlay.com/"
  },
  {
    name: "The Baker's Cafe",
    area: "Downtown",
    deal: "Lunch combos under $10 and fresh pastries daily.",
    timeWindow: "10 AM - 3 PM",
    openStatus: "Open now Â· bakery & cafe",
    isOpen: true,
    tags: ["lunch", "coffee", "downtown"],
    featured: false,
    mapsUrl: "https://maps.google.com/?q=Baker's+Cafe+Findlay+OH",
    website: "https://thebakerscafe.com/"
  },
  {
    name: "We Serve. Coffee",
    area: "Downtown",
    deal: "Locally roasted coffee and $2 off breakfast sandwiches before 10 AM.",
    timeWindow: "7 AM - 10 AM",
    openStatus: "Morning only Â· local roastery",
    isOpen: false,
    tags: ["coffee", "breakfast", "local"],
    featured: false,
    mapsUrl: "https://maps.google.com/?q=We+Serve+Coffee+Findlay+OH",
    website: "https://weservecoffee.com/"
  },
  {
    name: "Fort Findlay Coffee & Doughnut Shoppe",
    area: "South side",
    deal: "Classic donuts and breakfast sandwiches made fresh daily.",
    timeWindow: "6 AM - 1 PM",
    openStatus: "Morning only Â· donuts",
    isOpen: false,
    tags: ["breakfast", "donuts", "south side"],
    featured: false,
    mapsUrl: "https://maps.google.com/?q=Fort+Findlay+Coffee+Findlay+OH",
    website: "https://fortfindlaycoffee.com/"
  },
  {
    name: "Main Street Deli",
    area: "Downtown",
    deal: "Huge sandwiches and $1 off any combo before noon.",
    timeWindow: "10 AM - 12 PM",
    openStatus: "Open now Â· deli",
    isOpen: true,
    tags: ["sandwiches", "lunch", "downtown"],
    featured: false,
    mapsUrl: "https://maps.google.com/?q=Main+Street+Deli+Findlay+OH",
    website: "https://mainstreetdelifindlay.com/"
  },
  {
    name: "The Dough Hook",
    area: "Downtown",
    deal: "Fresh deli sandwiches and butcher-shop specials.",
    timeWindow: "10 AM - 3 PM",
    openStatus: "Open now Â· deli",
    isOpen: true,
    tags: ["deli", "lunch", "downtown"],
    featured: false,
    mapsUrl: "https://maps.google.com/?q=Dough+Hook+Findlay+OH",
    website: "https://thedoughhook.com/"
  },
  {
    name: "Casa Fiesta",
    area: "East side",
    deal: "$1.99 tacos on Tuesdays and strong margaritas.",
    timeWindow: "All day Tuesday",
    openStatus: "Open now Â· Mexican",
    isOpen: true,
    tags: ["mexican", "tacos", "east side"],
    featured: false,
    mapsUrl: "https://maps.google.com/?q=Casa+Fiesta+Findlay+OH",
    website: "https://casafiestafindlay.com/"
  },
  {
    name: "La Charrita",
    area: "Downtown",
    deal: "Authentic Mexican plates with fast service and great prices.",
    timeWindow: "11 AM - 8 PM",
    openStatus: "Open now Â· Mexican",
    isOpen: true,
    tags: ["mexican", "authentic", "downtown"],
    featured: false,
    mapsUrl: "https://maps.google.com/?q=La+Charrita+Findlay+OH",
    website: "https://www.facebook.com/lacharritafindlay/"
  },
  {
    name: "Gillig Winery",
    area: "East side",
    deal: "Flatbread + wine flight combo is a local favorite.",
    timeWindow: "4 PM - 8 PM",
    openStatus: "Open now Â· winery",
    isOpen: true,
    tags: ["wine", "flatbreads", "east side"],
    featured: false,
    mapsUrl: "https://maps.google.com/?q=Gillig+Winery+Findlay+OH",
    website: "https://gilligwinery.com/"
  },
  {
    name: "The Wine Merchant",
    area: "Downtown",
    deal: "Wine flights and artisan cheese boards.",
    timeWindow: "4 PM - 8 PM",
    openStatus: "Open now Â· wine bar",
    isOpen: true,
    tags: ["wine", "cheese", "downtown"],
    featured: false,
    mapsUrl: "https://maps.google.com/?q=Wine+Merchant+Findlay+OH",
    website: "https://thewinemerchantfindlay.com/"
  },
  {
    name: "The Bourbon Affair",
    area: "Downtown",
    deal: "Premium bourbon flights and small plates.",
    timeWindow: "5 PM - 11 PM",
    openStatus: "Open now Â· bourbon bar",
    isOpen: true,
    tags: ["bourbon", "drinks", "downtown"],
    featured: false,
    mapsUrl: "https://maps.google.com/?q=Bourbon+Affair+Findlay+OH",
    website: "https://thebourbonaffair.com/"
  }
];

      const cardsEl = document.getElementById("cards");
      const dayLabelEl = document.getElementById("day-label");
      const shuffleBtn = document.getElementById("shuffle-btn");

      // ------------------------------
      // HELPERS
      // ------------------------------
      function formatDay() {
        const d = new Date();
        return d.toLocaleDateString(undefined, {
          weekday: "long",
          month: "long",
          day: "numeric"
        });
      }

      function shuffle(arr) {
        const a = arr.slice();
        for (let i = a.length - 1; i > 0; i--) {
          const j = Math.floor(Math.random() * (i + 1));
          [a[i], a[j]] = [a[j], a[i]];
        }
        return a;
      }

      // ------------------------------
      // DAILY FEATURED SHUFFLE
      // ------------------------------
      function getDailyFeaturedOrder() {
        const today = new Date().toDateString();
        const saved = JSON.parse(localStorage.getItem("dailyFeatured"));
        if (saved && saved.date === today) {
          return saved.order;
        }
        const featured = places.filter(p => p.featured);
        const shuffled = shuffle(featured);
        localStorage.setItem(
          "dailyFeatured",
          JSON.stringify({ date: today, order: shuffled })
        );
        return shuffled;
      }

      // ------------------------------
      // RENDER
      // ------------------------------
      function renderFromList(list) {
        cardsEl.innerHTML = "";
        const visible = list.slice(0, 4);

        visible.forEach(p => {
          const card = document.createElement("article");
          card.className = "card";

          const header = document.createElement("div");
          header.className = "card-header";

          const titleWrap = document.createElement("div");
          const title = document.createElement("div");
          title.className = "card-title";
          title.innerHTML = '<span class="name">' + p.name + "</span>";
          const area = document.createElement("div");
          area.className = "card-area";
          area.textContent = p.area;
          titleWrap.appendChild(title);
          titleWrap.appendChild(area);
          header.appendChild(titleWrap);

          if (p.featured) {
            const badge = document.createElement("div");
            badge.className = "badge";
            badge.textContent = "Today's pick";
            header.appendChild(badge);
          }

          const deal = document.createElement("div");
          deal.className = "deal-main";
          deal.innerHTML = "<strong>Today's deal:</strong> " + p.deal;

          const meta = document.createElement("div");
          meta.className = "meta-row";

          const timeSpan = document.createElement("span");
          timeSpan.textContent = "ðŸ•’ " + p.timeWindow;

          const statusSpan = document.createElement("span");
          const dot = document.createElement("span");
          dot.className = "status-dot" + (p.isOpen ? "" : " closed");
          const statusText = document.createElement("span");
          statusText.textContent = p.openStatus;
          statusSpan.appendChild(dot);
          statusSpan.appendChild(statusText);

          meta.appendChild(timeSpan);
          meta.appendChild(statusSpan);

          const tagsRow = document.createElement("div");
          tagsRow.className = "tag-row";
          p.tags.forEach((t, i) => {
            const tag = document.createElement("span");
            tag.className = "tag" + (i === 0 ? " good" : "");
            tag.textContent = t;
            tagsRow.appendChild(tag);
          });

          const actions = document.createElement("div");
          actions.className = "card-actions";

          const directionsBtn = document.createElement("button");
          directionsBtn.className = "btn btn-primary";
          directionsBtn.textContent = "ðŸ“ Directions";
          directionsBtn.onclick = function () {
            window.open(p.mapsUrl, "_blank");
          };

          actions.appendChild(directionsBtn);

          card.appendChild(header);
          card.appendChild(deal);
          card.appendChild(meta);
          card.appendChild(tagsRow);
          card.appendChild(actions);

          cardsEl.appendChild(card);
        });
      }

      // ------------------------------
      // INIT
      // ------------------------------
      dayLabelEl.textContent = formatDay();

      const dailyFeatured = getDailyFeaturedOrder();
      const nonFeatured = places.filter(p => !p.featured);
      renderFromList(dailyFeatured.concat(nonFeatured));

      // ------------------------------
      // SHUFFLE BUTTON (NON-FEATURED ONLY)
      // ------------------------------
      shuffleBtn.addEventListener("click", function () {
        const featured = places.filter(p => p.featured); // fixed
        const shuffledNonFeatured = shuffle(places.filter(p => !p.featured));
        renderFromList(featured.concat(shuffledNonFeatured));
      });
    });
  </script>
</body>
</html>


